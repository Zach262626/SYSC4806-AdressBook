<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>AddressBook Home</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 2em; }
        h1 { color: #333; }
        ul { list-style: none; padding: 0; }
        li { margin: 0.5em 0; }
        a { text-decoration: none; color: #2a7ae2; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>
<h1>AddressBooks</h1>

<ul>
    <li th:each="ab : ${books}">
        <a th:href="@{'/addressbooks/' + ${ab.id} + '/view'}"
           th:text="${ab.name}">Book Name</a>
    </li>
</ul>

<h2>Add New AddressBook</h2>
<form id="addBookForm" th:action="@{/addressbooks}" method="post">
    <input type="text" name="name" placeholder="Name" required>
    <button type="submit">Add</button>
</form>

<script>
    document.getElementById('addBookForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const name = this.name.value;

        fetch('/api/addressbooks', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ name })
        }).then(() => window.location.reload());
    });
</script>
</body>
</html>
