<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title th:text="${book != null} ? ${book.name} : 'Address Book'">Address Book</title>
</head>
<body>
<div th:if="${book != null}">
    <a th:href="@{'/'}">Home</a>
    <h1 th:text="${book.name}">AddressBook</h1>
    <small>ID: <span th:text="${book.id}">1</span></small>

    <table>
        <thead>
        <tr><th>Name</th><th>Address</th><th>Phone</th></tr>
        </thead>
        <tbody>
        <tr th:each="b : ${book.buddies}">
            <td th:text="${b.name}">Name</td>
            <td th:text="${b.address}">Address</td>
            <td th:text="${b.phone}">Phone</td>
        </tr>
        </tbody>
    </table>

    <h3>Add Buddy</h3>
    <form th:action="@{'/addressbooks/' + ${book.id} + '/buddies'}" method="post">
        <label>Name: <input type="text" name="name" required/></label><br/>
        <label>Phone: <input type="text" name="phone"/></label><br/>
        <label>Address: <input type="text" name="address"/></label><br/>
        <button type="submit">Add Buddy</button>
    </form>
</div>

<div th:if="${book == null}">
    <h1>AddressBook not found</h1>
    <p>Go to the home page and then create it
        <a th:href="@{'/'}">Home</a>.</p>
</div>
</body>
</html>
